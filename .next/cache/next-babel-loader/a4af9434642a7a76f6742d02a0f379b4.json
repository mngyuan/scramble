{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nvar _jsxFileName = \"/Users/phorust/git/scramble/components/Scramble.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nvar RAND_CHAR_POOL = '!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\n\nvar randC = function randC() {\n  return RAND_CHAR_POOL.charAt(Math.floor(Math.random() * RAND_CHAR_POOL.length));\n};\n\nvar randS = function randS(l) {\n  return Array(l).fill(' ').map(randC).join('');\n};\n\nvar INITIAL_TIMEOUT = 35;\nvar DECAY_FACTOR = 2.5;\n\nvar timeout = function timeout(n) {\n  return INITIAL_TIMEOUT * Math.pow(n, DECAY_FACTOR) + Math.random() * INITIAL_TIMEOUT * Math.pow(n, DECAY_FACTOR);\n};\n\nvar timerFunction = function timerFunction(cb, cbFinal) {\n  return function () {\n    cb();\n    setTimeout(function () {\n      cb();\n      setTimeout(function () {\n        cb();\n        setTimeout(function () {\n          cbFinal();\n        }, timeout(3));\n      }, timeout(2));\n    }, timeout(1));\n  };\n};\n\nvar ScrambleC = function ScrambleC(props) {\n  var _useState = useState(props.c),\n      c = _useState[0],\n      setC = _useState[1];\n\n  useEffect(function () {\n    var timer = setTimeout(timerFunction(function () {\n      return setC(randC);\n    }, function () {\n      return setC(props.c);\n    }), INITIAL_TIMEOUT + Math.random() * INITIAL_TIMEOUT);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [props.c]);\n  return __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"1076465993\", [c === props.c ? 1.0 : 0.5]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, c, __jsx(_JSXStyle, {\n    id: \"1076465993\",\n    dynamic: [c === props.c ? 1.0 : 0.5],\n    __self: this\n  }, \"span.__jsx-style-dynamic-selector{opacity:\".concat(c === props.c ? 1.0 : 0.5, \";}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waG9ydXN0L2dpdC9zY3JhbWJsZS9jb21wb25lbnRzL1NjcmFtYmxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZDZ0IsQUFHOEMscUNBQ3ZDIiwiZmlsZSI6Ii9Vc2Vycy9waG9ydXN0L2dpdC9zY3JhbWJsZS9jb21wb25lbnRzL1NjcmFtYmxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7dXNlU3RhdGUsIHVzZUVmZmVjdH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBSQU5EX0NIQVJfUE9PTCA9XG4gICchXCIjJCUmXFwnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+JztcbmNvbnN0IHJhbmRDID0gKCkgPT5cbiAgUkFORF9DSEFSX1BPT0wuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIFJBTkRfQ0hBUl9QT09MLmxlbmd0aCkpO1xuY29uc3QgcmFuZFMgPSBsID0+XG4gIEFycmF5KGwpXG4gICAgLmZpbGwoJyAnKVxuICAgIC5tYXAocmFuZEMpXG4gICAgLmpvaW4oJycpO1xuXG5jb25zdCBJTklUSUFMX1RJTUVPVVQgPSAzNTtcbmNvbnN0IERFQ0FZX0ZBQ1RPUiA9IDIuNTtcbmNvbnN0IHRpbWVvdXQgPSBuID0+XG4gIElOSVRJQUxfVElNRU9VVCAqIG4gKiogREVDQVlfRkFDVE9SICtcbiAgTWF0aC5yYW5kb20oKSAqIElOSVRJQUxfVElNRU9VVCAqIG4gKiogREVDQVlfRkFDVE9SO1xuXG5jb25zdCB0aW1lckZ1bmN0aW9uID0gKGNiLCBjYkZpbmFsKSA9PiAoKSA9PiB7XG4gIGNiKCk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNiKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjYigpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNiRmluYWwoKTtcbiAgICAgIH0sIHRpbWVvdXQoMykpO1xuICAgIH0sIHRpbWVvdXQoMikpO1xuICB9LCB0aW1lb3V0KDEpKTtcbn07XG5cbmNvbnN0IFNjcmFtYmxlQyA9IHByb3BzID0+IHtcbiAgY29uc3QgW2MsIHNldENdID0gdXNlU3RhdGUocHJvcHMuYyk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgdGltZXJGdW5jdGlvbihcbiAgICAgICAgKCkgPT4gc2V0QyhyYW5kQyksXG4gICAgICAgICgpID0+IHNldEMocHJvcHMuYyksXG4gICAgICApLFxuICAgICAgSU5JVElBTF9USU1FT1VUICsgTWF0aC5yYW5kb20oKSAqIElOSVRJQUxfVElNRU9VVCxcbiAgICApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9LCBbcHJvcHMuY10pO1xuICByZXR1cm4gPHNwYW4+XG4gICAge2N9XG4gICAgPHN0eWxlIGpzeD57YFxuICAgICAgc3BhbiB7XG4gICAgICAgIG9wYWNpdHk6ICR7YyA9PT0gcHJvcHMuYyA/IDEuMCA6IDAuNX07XG4gICAgICB9XG4gICAgYH1cbiAgICA8L3N0eWxlPlxuICAgIDwvc3Bhbj47XG59O1xuXG5jb25zdCBTY3JhbWJsZSA9IHByb3BzID0+IHtcbiAgY29uc3QgY3MgPSBBcnJheS5mcm9tKHByb3BzLnMpLm1hcCgoYywgaSkgPT4gPFNjcmFtYmxlQyBjPXtjfSBrZXk9e2l9IC8+KTtcbiAgY29uc29sZS5sb2coY3MpO1xuICByZXR1cm4gPHNwYW4+e2NzfTwvc3Bhbj47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTY3JhbWJsZTtcbiJdfQ== */\\n/*@ sourceURL=/Users/phorust/git/scramble/components/Scramble.js */\")));\n};\n\nvar Scramble = function Scramble(props) {\n  var cs = _Array$from(props.s).map(function (c, i) {\n    return __jsx(ScrambleC, {\n      c: c,\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    });\n  });\n\n  console.log(cs);\n  return __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, cs);\n};\n\nexport default Scramble;","map":{"version":3,"sources":["/Users/phorust/git/scramble/components/Scramble.js"],"names":["React","useState","useEffect","RAND_CHAR_POOL","randC","charAt","Math","floor","random","length","randS","l","Array","fill","map","join","INITIAL_TIMEOUT","DECAY_FACTOR","timeout","n","timerFunction","cb","cbFinal","setTimeout","ScrambleC","props","c","setC","timer","clearTimeout","Scramble","cs","s","i","console","log"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nconst RAND_CHAR_POOL =\n  '!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\nconst randC = () =>\n  RAND_CHAR_POOL.charAt(Math.floor(Math.random() * RAND_CHAR_POOL.length));\nconst randS = l =>\n  Array(l)\n    .fill(' ')\n    .map(randC)\n    .join('');\n\nconst INITIAL_TIMEOUT = 35;\nconst DECAY_FACTOR = 2.5;\nconst timeout = n =>\n  INITIAL_TIMEOUT * n ** DECAY_FACTOR +\n  Math.random() * INITIAL_TIMEOUT * n ** DECAY_FACTOR;\n\nconst timerFunction = (cb, cbFinal) => () => {\n  cb();\n  setTimeout(() => {\n    cb();\n    setTimeout(() => {\n      cb();\n      setTimeout(() => {\n        cbFinal();\n      }, timeout(3));\n    }, timeout(2));\n  }, timeout(1));\n};\n\nconst ScrambleC = props => {\n  const [c, setC] = useState(props.c);\n  useEffect(() => {\n    const timer = setTimeout(\n      timerFunction(\n        () => setC(randC),\n        () => setC(props.c),\n      ),\n      INITIAL_TIMEOUT + Math.random() * INITIAL_TIMEOUT,\n    );\n    return () => clearTimeout(timer);\n  }, [props.c]);\n  return <span>\n    {c}\n    <style jsx>{`\n      span {\n        opacity: ${c === props.c ? 1.0 : 0.5};\n      }\n    `}\n    </style>\n    </span>;\n};\n\nconst Scramble = props => {\n  const cs = Array.from(props.s).map((c, i) => <ScrambleC c={c} key={i} />);\n  console.log(cs);\n  return <span>{cs}</span>;\n};\n\nexport default Scramble;\n"]},"metadata":{},"sourceType":"module"}