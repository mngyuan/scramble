{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nvar _jsxFileName = \"/Users/phorust/git/scramble/components/Scramble.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nconst RAND_CHAR_POOL = '!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\n\nconst randC = () => RAND_CHAR_POOL.charAt(Math.floor(Math.random() * RAND_CHAR_POOL.length));\n\nconst randS = l => Array(l).fill(' ').map(randC).join('');\n\nconst INITIAL_TIMEOUT = 35;\nconst DECAY_FACTOR = 2.5;\n\nconst timeout = n => INITIAL_TIMEOUT * n ** DECAY_FACTOR + Math.random() * INITIAL_TIMEOUT * n ** DECAY_FACTOR * 4;\n\nconst timerFunction = (cb, cbFinal) => () => {\n  cb();\n  setTimeout(() => {\n    cb();\n    setTimeout(() => {\n      cb();\n      setTimeout(() => {\n        cbFinal();\n      }, timeout(3));\n    }, timeout(2));\n  }, timeout(1));\n};\n\nconst ScrambleC = props => {\n  const {\n    0: c,\n    1: setC\n  } = useState(props.c);\n  useEffect(() => {\n    const timer = setTimeout(timerFunction(() => setC(randC), () => setC(props.c)), INITIAL_TIMEOUT + Math.random() * INITIAL_TIMEOUT);\n    return () => clearTimeout(timer);\n  }, [props.c]);\n  return __jsx(\"span\", {\n    className: _JSXStyle.dynamic([[\"4152598407\", [c === props.c ? 1.0 : 0.5]]]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, c, __jsx(_JSXStyle, {\n    id: \"4152598407\",\n    dynamic: [c === props.c ? 1.0 : 0.5],\n    __self: this\n  }, `span.__jsx-style-dynamic-selector{font-family:'Space Mono',monospace;opacity:${c === props.c ? 1.0 : 0.5};}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waG9ydXN0L2dpdC9zY3JhbWJsZS9jb21wb25lbnRzL1NjcmFtYmxlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStDUyxBQUdpRCxtQ0FDQyxxQ0FDdkMiLCJmaWxlIjoiL1VzZXJzL3Bob3J1c3QvZ2l0L3NjcmFtYmxlL2NvbXBvbmVudHMvU2NyYW1ibGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHt1c2VTdGF0ZSwgdXNlRWZmZWN0fSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IFJBTkRfQ0hBUl9QT09MID1cbiAgJyFcIiMkJSZcXCcoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxcXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX4nO1xuY29uc3QgcmFuZEMgPSAoKSA9PlxuICBSQU5EX0NIQVJfUE9PTC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogUkFORF9DSEFSX1BPT0wubGVuZ3RoKSk7XG5jb25zdCByYW5kUyA9IGwgPT5cbiAgQXJyYXkobClcbiAgICAuZmlsbCgnICcpXG4gICAgLm1hcChyYW5kQylcbiAgICAuam9pbignJyk7XG5cbmNvbnN0IElOSVRJQUxfVElNRU9VVCA9IDM1O1xuY29uc3QgREVDQVlfRkFDVE9SID0gMi41O1xuY29uc3QgdGltZW91dCA9IG4gPT5cbiAgSU5JVElBTF9USU1FT1VUICogbiAqKiBERUNBWV9GQUNUT1IgK1xuICBNYXRoLnJhbmRvbSgpICogSU5JVElBTF9USU1FT1VUICogbiAqKiBERUNBWV9GQUNUT1IgKiA0O1xuXG5jb25zdCB0aW1lckZ1bmN0aW9uID0gKGNiLCBjYkZpbmFsKSA9PiAoKSA9PiB7XG4gIGNiKCk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNiKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjYigpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNiRmluYWwoKTtcbiAgICAgIH0sIHRpbWVvdXQoMykpO1xuICAgIH0sIHRpbWVvdXQoMikpO1xuICB9LCB0aW1lb3V0KDEpKTtcbn07XG5cbmNvbnN0IFNjcmFtYmxlQyA9IHByb3BzID0+IHtcbiAgY29uc3QgW2MsIHNldENdID0gdXNlU3RhdGUocHJvcHMuYyk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgdGltZXJGdW5jdGlvbihcbiAgICAgICAgKCkgPT4gc2V0QyhyYW5kQyksXG4gICAgICAgICgpID0+IHNldEMocHJvcHMuYyksXG4gICAgICApLFxuICAgICAgSU5JVElBTF9USU1FT1VUICsgTWF0aC5yYW5kb20oKSAqIElOSVRJQUxfVElNRU9VVCxcbiAgICApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9LCBbcHJvcHMuY10pO1xuICByZXR1cm4gKFxuICAgIDxzcGFuPlxuICAgICAge2N9XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdTcGFjZSBNb25vJywgbW9ub3NwYWNlO1xuICAgICAgICAgICAgb3BhY2l0eTogJHtjID09PSBwcm9wcy5jID8gMS4wIDogMC41fTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvc3Bhbj5cbiAgKTtcbn07XG5cbmNvbnN0IFNjcmFtYmxlID0gcHJvcHMgPT4ge1xuICBjb25zdCBjcyA9IEFycmF5LmZyb20ocHJvcHMucykubWFwKChjLCBpKSA9PiA8U2NyYW1ibGVDIGM9e2N9IGtleT17aX0gLz4pO1xuICBjb25zb2xlLmxvZyhjcyk7XG4gIHJldHVybiA8c3Bhbj57Y3N9PC9zcGFuPjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNjcmFtYmxlO1xuIl19 */\n/*@ sourceURL=/Users/phorust/git/scramble/components/Scramble.js */`));\n};\n\nconst Scramble = props => {\n  const cs = _Array$from(props.s).map((c, i) => __jsx(ScrambleC, {\n    c: c,\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }));\n\n  console.log(cs);\n  return __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, cs);\n};\n\nexport default Scramble;","map":{"version":3,"sources":["/Users/phorust/git/scramble/components/Scramble.js"],"names":["React","useState","useEffect","RAND_CHAR_POOL","randC","charAt","Math","floor","random","length","randS","l","Array","fill","map","join","INITIAL_TIMEOUT","DECAY_FACTOR","timeout","n","timerFunction","cb","cbFinal","setTimeout","ScrambleC","props","c","setC","timer","clearTimeout","Scramble","cs","s","i","console","log"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,MAAMC,cAAc,GAClB,kGADF;;AAEA,MAAMC,KAAK,GAAG,MACZD,cAAc,CAACE,MAAf,CAAsBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,cAAc,CAACM,MAA1C,CAAtB,CADF;;AAEA,MAAMC,KAAK,GAAGC,CAAC,IACbC,KAAK,CAACD,CAAD,CAAL,CACGE,IADH,CACQ,GADR,EAEGC,GAFH,CAEOV,KAFP,EAGGW,IAHH,CAGQ,EAHR,CADF;;AAMA,MAAMC,eAAe,GAAG,EAAxB;AACA,MAAMC,YAAY,GAAG,GAArB;;AACA,MAAMC,OAAO,GAAGC,CAAC,IACfH,eAAe,GAAGG,CAAC,IAAIF,YAAvB,GACAX,IAAI,CAACE,MAAL,KAAgBQ,eAAhB,GAAkCG,CAAC,IAAIF,YAAvC,GAAsD,CAFxD;;AAIA,MAAMG,aAAa,GAAG,CAACC,EAAD,EAAKC,OAAL,KAAiB,MAAM;AAC3CD,EAAAA,EAAE;AACFE,EAAAA,UAAU,CAAC,MAAM;AACfF,IAAAA,EAAE;AACFE,IAAAA,UAAU,CAAC,MAAM;AACfF,MAAAA,EAAE;AACFE,MAAAA,UAAU,CAAC,MAAM;AACfD,QAAAA,OAAO;AACR,OAFS,EAEPJ,OAAO,CAAC,CAAD,CAFA,CAAV;AAGD,KALS,EAKPA,OAAO,CAAC,CAAD,CALA,CAAV;AAMD,GARS,EAQPA,OAAO,CAAC,CAAD,CARA,CAAV;AASD,CAXD;;AAaA,MAAMM,SAAS,GAAGC,KAAK,IAAI;AACzB,QAAM;AAAA,OAACC,CAAD;AAAA,OAAIC;AAAJ,MAAY1B,QAAQ,CAACwB,KAAK,CAACC,CAAP,CAA1B;AACAxB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM0B,KAAK,GAAGL,UAAU,CACtBH,aAAa,CACX,MAAMO,IAAI,CAACvB,KAAD,CADC,EAEX,MAAMuB,IAAI,CAACF,KAAK,CAACC,CAAP,CAFC,CADS,EAKtBV,eAAe,GAAGV,IAAI,CAACE,MAAL,KAAgBQ,eALZ,CAAxB;AAOA,WAAO,MAAMa,YAAY,CAACD,KAAD,CAAzB;AACD,GATQ,EASN,CAACH,KAAK,CAACC,CAAP,CATM,CAAT;AAUA,SACE;AAAA,kDAMmBA,CAAC,KAAKD,KAAK,CAACC,CAAZ,GAAgB,GAAhB,GAAsB,GANzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,CADH;AAAA;AAAA,cAMmBA,CAAC,KAAKD,KAAK,CAACC,CAAZ,GAAgB,GAAhB,GAAsB,GANzC;AAAA;AAAA,qFAMmBA,CAAC,KAAKD,KAAK,CAACC,CAAZ,GAAgB,GAAhB,GAAsB,GANzC;;oEAAA,EADF;AAaD,CAzBD;;AA2BA,MAAMI,QAAQ,GAAGL,KAAK,IAAI;AACxB,QAAMM,EAAE,GAAG,YAAWN,KAAK,CAACO,CAAjB,EAAoBlB,GAApB,CAAwB,CAACY,CAAD,EAAIO,CAAJ,KAAU,MAAC,SAAD;AAAW,IAAA,CAAC,EAAEP,CAAd;AAAiB,IAAA,GAAG,EAAEO,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlC,CAAX;;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;AACA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,EAAP,CAAP;AACD,CAJD;;AAMA,eAAeD,QAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nconst RAND_CHAR_POOL =\n  '!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\nconst randC = () =>\n  RAND_CHAR_POOL.charAt(Math.floor(Math.random() * RAND_CHAR_POOL.length));\nconst randS = l =>\n  Array(l)\n    .fill(' ')\n    .map(randC)\n    .join('');\n\nconst INITIAL_TIMEOUT = 35;\nconst DECAY_FACTOR = 2.5;\nconst timeout = n =>\n  INITIAL_TIMEOUT * n ** DECAY_FACTOR +\n  Math.random() * INITIAL_TIMEOUT * n ** DECAY_FACTOR * 4;\n\nconst timerFunction = (cb, cbFinal) => () => {\n  cb();\n  setTimeout(() => {\n    cb();\n    setTimeout(() => {\n      cb();\n      setTimeout(() => {\n        cbFinal();\n      }, timeout(3));\n    }, timeout(2));\n  }, timeout(1));\n};\n\nconst ScrambleC = props => {\n  const [c, setC] = useState(props.c);\n  useEffect(() => {\n    const timer = setTimeout(\n      timerFunction(\n        () => setC(randC),\n        () => setC(props.c),\n      ),\n      INITIAL_TIMEOUT + Math.random() * INITIAL_TIMEOUT,\n    );\n    return () => clearTimeout(timer);\n  }, [props.c]);\n  return (\n    <span>\n      {c}\n      <style jsx>\n        {`\n          span {\n            font-family: 'Space Mono', monospace;\n            opacity: ${c === props.c ? 1.0 : 0.5};\n          }\n        `}\n      </style>\n    </span>\n  );\n};\n\nconst Scramble = props => {\n  const cs = Array.from(props.s).map((c, i) => <ScrambleC c={c} key={i} />);\n  console.log(cs);\n  return <span>{cs}</span>;\n};\n\nexport default Scramble;\n"]},"metadata":{},"sourceType":"module"}